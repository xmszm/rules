---
name: xmszm-code-workflow
description: å¤„ç†ä»£ç ä»»åŠ¡æ—¶è‡ªåŠ¨æ‰§è¡Œé¡¹ç›®å®šä½ã€å½’æ¡£æŸ¥è¯¢ã€ä»£ç æœç´¢ã€å®æ–½å’Œå½’æ¡£çš„æ ‡å‡†æµç¨‹ã€‚æ”¯æŒå¤šé¡¹ç›®ç¯å¢ƒï¼Œè‡ªåŠ¨åˆ†é¡¹ç›®å½’æ¡£ã€‚å½“éœ€è¦ä¿®æ”¹ã€æ’æŸ¥ã€å¼€å‘ã€ä¿®å¤æˆ–æŸ¥çœ‹ä»£ç æ—¶ä½¿ç”¨ã€‚
---

# xmszm é¡¹ç›®è¯´æ˜ä¹¦æ¨¡å¼

> **ç®€ç§°**ï¼šxmszm | **å…¨ç§°**ï¼šxmszm-code-workflow

## ğŸ“š è§„åˆ™åŠ è½½æœºåˆ¶

æœ¬ skill é‡‡ç”¨**æ¸è¿›å¼åŠ è½½**ç­–ç•¥ï¼Œå‡å°‘ token æ¶ˆè€—ï¼š
- æ ¸å¿ƒæµç¨‹åœ¨ SKILL.mdï¼ˆå½“å‰æ–‡ä»¶ï¼‰
- è¯¦ç»†è§„åˆ™åœ¨ `rules/` ç›®å½•ï¼ˆæŒ‰éœ€è¯»å–ï¼‰
- æ¨¡æ¿æ–‡ä»¶åœ¨ `templates/` ç›®å½•ï¼ˆåˆå§‹åŒ–æ—¶è¯»å–ï¼‰

**æ‰§è¡Œæ—¶ï¼Œæ ¹æ®æç¤ºä¸»åŠ¨è¯»å–å¯¹åº”è§„åˆ™æ–‡ä»¶ã€‚**

---

## å¼ºåˆ¶æµç¨‹

```
å®šï¼ˆé¡¹ç›®å®šä½ï¼‰â†’ æŸ¥ï¼ˆå½’æ¡£å®šä½ï¼‰â†’ æœï¼ˆå…œåº•è¡¥å……ï¼‰â†’ é—®ï¼ˆç¡®è®¤ç»†èŠ‚ï¼‰â†’ åšï¼ˆå®æ–½ï¼‰â†’ è®°ï¼ˆå½’æ¡£ï¼‰
```

### ä»»åŠ¡è¿›åº¦æ¸…å•

å¤åˆ¶æ­¤æ¸…å•å¹¶è·Ÿè¸ªè¿›åº¦ï¼š
```
ä»»åŠ¡æ‰§è¡Œè¿›åº¦ï¼š
- [ ] Step 0ï¼šå®šï¼ˆé¡¹ç›®å®šä½ï¼‰
- [ ] Step 1ï¼šæŸ¥ï¼ˆå½’æ¡£å®šä½ï¼‰
- [ ] Step 2ï¼šæœï¼ˆå…œåº•è¡¥å……ï¼‰- å¦‚éœ€è¦
- [ ] Step 3ï¼šé—®ï¼ˆç¡®è®¤ç»†èŠ‚ï¼‰- å¦‚éœ€è¦
- [ ] Step 4ï¼šåšï¼ˆå®æ–½ï¼‰
- [ ] Step 5ï¼šè®°ï¼ˆå½’æ¡£ï¼‰
```

---

## Step 0: å®šï¼ˆé¡¹ç›®å®šä½ï¼‰âš ï¸ ä¼˜å…ˆæ‰§è¡Œ

> ğŸ“– **è¯¦ç»†è§„åˆ™**ï¼šè¯»å– `rules/project-detection.md`
> ğŸ“– **å˜é‡å®šä¹‰**ï¼šè¯»å– `rules/variables.md`

**æ‰§è¡Œæ¦‚è¦**ï¼š
1. æ£€æµ‹å¤šé¡¹ç›®ç¯å¢ƒï¼ˆéå†ä¸€çº§å­ç›®å½•ï¼ŒæŸ¥æ‰¾é¡¹ç›®æ ‡è¯†æ–‡ä»¶ï¼‰
2. å¤šé¡¹ç›®ç¯å¢ƒï¼šå®šä½ä»»åŠ¡æ‰€å±é¡¹ç›®ï¼ˆè·¯å¾„æå–/å…³é”®è¯åŒ¹é…/äº¤äº’é€‰æ‹©ï¼‰
3. å•é¡¹ç›®ç¯å¢ƒï¼šä½¿ç”¨å½“å‰ç›®å½•

**è¾“å‡ºå˜é‡**ï¼š
- `$PROJECT_ROOT`ï¼šé¡¹ç›®æ ¹ç›®å½•
- `$PROJECT_NAME`ï¼šé¡¹ç›®åç§°
- `$ARCHIVE_PATH`ï¼šå½’æ¡£è·¯å¾„

**è¾“å‡ºç¤ºä¾‹**ï¼šã€Œæ£€æµ‹åˆ°å¤šé¡¹ç›®ç¯å¢ƒï¼Œæœ¬æ¬¡ä»»åŠ¡å®šä½åˆ°ï¼š`$PROJECT_NAME/`ã€

---

## Step 1: æŸ¥ï¼ˆå½’æ¡£å®šä½ï¼‰âš ï¸ ä¸å¯è·³è¿‡

> ğŸ“– **ä»»åŠ¡ç±»å‹åˆ¤æ–­**ï¼šè¯»å– `rules/task-type-mapping.md`

**æ‰§è¡Œæ¦‚è¦**ï¼š
1. è¯»å– `$ARCHIVE_PATH/index.md`
2. æ ¹æ®ä»»åŠ¡å…³é”®è¯åˆ¤æ–­ç±»å‹ï¼ˆé¡µé¢/ç»„ä»¶/API/æ•°æ®åº“ç­‰ï¼‰
3. å®šä½åˆ°å¯¹åº”å½’æ¡£æ–‡ä»¶å¹¶è¯»å–

**è¾“å‡ºç¤ºä¾‹**ï¼š
- æ‰¾åˆ°ï¼šã€Œæ ¹æ®å½’æ¡£ï¼ˆ`$ARCHIVE_PATH`ï¼‰ï¼Œè¯¥åŠŸèƒ½ä½äº `src/views/Login.vue:15`ã€
- æœªæ‰¾åˆ°ï¼šã€Œå½’æ¡£ä¸­æœªæ‰¾åˆ°ç›¸å…³è®°å½•ï¼Œå°†è¿›è¡Œæœç´¢ã€

**è·³è¿‡æ¡ä»¶**ï¼šä»…å½“ç”¨æˆ·æ˜ç¡®è¯´"ä¸ç”¨çœ‹å½’æ¡£"

---

## Step 2: æœï¼ˆå…œåº•è¡¥å……ï¼‰

> ğŸ“– **æœç´¢ç­–ç•¥**ï¼šè¯»å– `rules/search-strategy.md`

**è§¦å‘æ¡ä»¶**ï¼š
- `$ARCHIVE_PATH` ä¸å­˜åœ¨
- å½’æ¡£ä¸­æ— ç›¸å…³è®°å½•
- å½’æ¡£ä¿¡æ¯ä¸å®Œæ•´

**æ‰§è¡Œæ¦‚è¦**ï¼š
- ä¼˜å…ˆä½¿ç”¨ **codebase-retrieval**ï¼ˆè¯­ä¹‰æœç´¢ï¼‰
- ç²¾ç¡®æœç´¢ä½¿ç”¨ **Grep**ï¼ˆå·²çŸ¥ç±»å/å‡½æ•°åï¼‰
- æ–‡ä»¶æŸ¥æ‰¾ä½¿ç”¨ **Glob**ï¼ˆæ–‡ä»¶åæ¨¡å¼ï¼‰
- **å¼ºåˆ¶çº¦æŸ**ï¼šæ‰€æœ‰æœç´¢å¿…é¡»é™å®š `path: $PROJECT_ROOT`

---

## Step 3: é—®ï¼ˆç¡®è®¤ç»†èŠ‚ï¼‰

**æ‰§è¡Œæ¦‚è¦**ï¼šå‘ç”¨æˆ·ç¡®è®¤å…³é”®ä¿¡æ¯

**è·³è¿‡æ¡ä»¶**ï¼š
- ç”¨æˆ·å·²æä¾›å®Œæ•´ä¸Šä¸‹æ–‡
- çº¯æŸ¥è¯¢ç±»ä»»åŠ¡
- Step 1 å·²å®šä½æˆåŠŸä¸”ä»»åŠ¡æ˜ç¡®

---

## Step 4: åšï¼ˆå®æ–½ï¼‰

æ­£å¸¸æ‰§è¡Œä»»åŠ¡ï¼Œä½¿ç”¨ TodoWrite è·Ÿè¸ªè¿›åº¦

---

## Step 5: è®°ï¼ˆå½’æ¡£ï¼‰âš ï¸ æœ‰å˜æ›´å¿…æ‰§è¡Œ

> ğŸ“– **å½’æ¡£æ ¼å¼**ï¼šè¯»å– `rules/archive-format.md`

**æ‰§è¡Œæ¦‚è¦**ï¼š
1. æ›´æ–°åŠŸèƒ½å½’æ¡£æ–‡ä»¶ï¼ˆ`pages/`ã€`guides/`ï¼‰
2. æ›´æ–° `$ARCHIVE_PATH/changelog/YYYY-MM.md`
3. å¤šé¡¹ç›®ç¯å¢ƒï¼šæ›´æ–°æ ¹ç´¢å¼• `.xmszm/projects.md`

**è·³è¿‡æ¡ä»¶**ï¼š
- æœªäº§ç”Ÿä»£ç å˜æ›´
- ç”¨æˆ·æ˜ç¡®è¯´"ä¸ç”¨è®°å½•"

---

## è¿è§„å¤„ç†

è‹¥éœ€è·³è¿‡ Step 1 æˆ– Step 5ï¼Œ**å¿…é¡»**å…ˆå‘ç”¨æˆ·æŠ¥å‘Šå¹¶ç­‰å¾…ç¡®è®¤ï¼š
> "æˆ‘å‡†å¤‡è·³è¿‡[æŸ¥/è®°]æ­¥éª¤ï¼ŒåŸå› æ˜¯ xxxã€‚æ˜¯å¦åŒæ„ï¼Ÿ"

---

## åˆå§‹åŒ–é€»è¾‘

> ğŸ“– **åˆå§‹åŒ–è¯¦æƒ…**ï¼šè¯»å– `templates/init-structure.md`

**å¤šé¡¹ç›®ç¯å¢ƒ**ï¼š
1. æ ¹ç›®å½• `.xmszm/` ä¸å­˜åœ¨ â†’ åˆ›å»º `projects.md` ç´¢å¼•
2. å­é¡¹ç›® `$PROJECT_ROOT/.xmszm/` ä¸å­˜åœ¨ â†’ åˆ›å»ºå®Œæ•´å½’æ¡£ç»“æ„

**å•é¡¹ç›®ç¯å¢ƒ**ï¼š
1. `.xmszm/` ä¸å­˜åœ¨ â†’ åˆ›å»ºå®Œæ•´å½’æ¡£ç»“æ„

**ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œ**ï¼Œå¹¶è¿½åŠ åˆ°å¯¹åº” `.gitignore`

---

## è¾¹ç•Œæƒ…å†µ

> ğŸ“– **ç‰¹æ®Šåœºæ™¯å¤„ç†**ï¼šè¯»å– `edge-cases.md`

åŒ…å«ä»¥ä¸‹åœºæ™¯çš„å¤„ç†ç­–ç•¥ï¼š
- ä»»åŠ¡æ¶‰åŠå¤šä¸ªé¡¹ç›®
- æ— æ³•è‡ªåŠ¨å®šä½é¡¹ç›®
- åµŒå¥—é¡¹ç›®ï¼ˆä¸æ”¯æŒï¼‰
- é¡¹ç›®æ ‡è¯†æ–‡ä»¶ç¼ºå¤±
- .gitignore å†²çª
- å½’æ¡£ç›®å½•ä¸å®Œæ•´
- æ–‡ä»¶æŸå/æ ¼å¼é”™è¯¯
- è·¨æ“ä½œç³»ç»Ÿè·¯å¾„å·®å¼‚
- ç”¨æˆ·ä¸­æ–­åˆå§‹åŒ–
- å½’æ¡£æ–‡ä»¶è¿‡å¤§
- å¤šäººåä½œå†²çª
- æƒé™é—®é¢˜

---

## å¿«é€Ÿå‚è€ƒ

**æ ¸å¿ƒæ–‡ä»¶è·¯å¾„**ï¼š
- è§„åˆ™ï¼š`rules/*.md`
- æ¨¡æ¿ï¼š`templates/*.template`
- è¾¹ç•Œæƒ…å†µï¼š`edge-cases.md`

**å½’æ¡£ç»“æ„**ï¼š

å¤šé¡¹ç›®ç¯å¢ƒï¼š
```
.xmszm/                        # æ ¹ç´¢å¼•ï¼ˆä»…ç´¢å¼•ï¼‰
â””â”€â”€ projects.md

$PROJECT_ROOT/.xmszm/          # å­é¡¹ç›®å½’æ¡£
â”œâ”€â”€ index.md
â”œâ”€â”€ pages-index.md
â”œâ”€â”€ guides/
â”œâ”€â”€ changelog.md
â””â”€â”€ changelog/YYYY-MM.md
```

å•é¡¹ç›®ç¯å¢ƒï¼š
```
.xmszm/                        # é¡¹ç›®å½’æ¡£
â”œâ”€â”€ index.md
â”œâ”€â”€ pages-index.md
â”œâ”€â”€ guides/
â”œâ”€â”€ changelog.md
â””â”€â”€ changelog/YYYY-MM.md
```
