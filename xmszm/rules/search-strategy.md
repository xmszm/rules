# æœç´¢å·¥å…·é€‰æ‹©ç­–ç•¥

> æœ¬æ–‡ä»¶åœ¨ Step 2 æ‰§è¡Œæ—¶æŒ‰éœ€åŠ è½½ï¼ˆä»…å½“å½’æ¡£æœªæ‰¾åˆ°æˆ–ä¿¡æ¯ä¸å®Œæ•´æ—¶ï¼‰

## ğŸ“‹ ç›®å½•

- [å·¥å…·é€‰æ‹©å†³ç­–æ ‘](#å·¥å…·é€‰æ‹©å†³ç­–æ ‘)
  - codebase-retrievalï¼ˆè¯­ä¹‰æœç´¢ï¼‰
  - Grepï¼ˆç²¾ç¡®æ–‡æœ¬æœç´¢ï¼‰
  - Globï¼ˆæ–‡ä»¶åæ¨¡å¼åŒ¹é…ï¼‰
- [å·¥å…·å¯¹æ¯”çŸ©é˜µ](#å·¥å…·å¯¹æ¯”çŸ©é˜µ)
- [å¤šé¡¹ç›®ç¯å¢ƒç‰¹æ®Šå¤„ç†](#å¤šé¡¹ç›®ç¯å¢ƒç‰¹æ®Šå¤„ç†)
- [æœç´¢ç»“æœå¤„ç†](#æœç´¢ç»“æœå¤„ç†)

---

## å·¥å…·é€‰æ‹©å†³ç­–æ ‘

### 1. codebase-retrievalï¼ˆè¯­ä¹‰æœç´¢ - ä¼˜å…ˆï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- âœ… ä¸çŸ¥é“å…·ä½“æ–‡ä»¶åã€ç±»åã€å‡½æ•°å
- âœ… éœ€è¦ç†è§£ä»£ç é€»è¾‘
- âœ… æ¨¡ç³ŠæŸ¥è¯¢ï¼š"ç”¨æˆ·è®¤è¯åœ¨å“ªé‡Œ"ã€"æ”¯ä»˜åŠŸèƒ½æ€ä¹ˆå®ç°"

**ä¼˜åŠ¿**ï¼š
- æ™ºèƒ½è¯­ä¹‰ç†è§£
- å¯ä»¥æ‰¾åˆ°ç›¸å…³ä½†ä¸å®Œå…¨åŒ¹é…çš„ä»£ç 
- è¿”å›ä¸Šä¸‹æ–‡ä¿¡æ¯

**ç¤ºä¾‹**ï¼š
```
information_request: "ç”¨æˆ·ç™»å½•è®¤è¯çš„å®ç°é€»è¾‘"
information_request: "å¤„ç†æ”¯ä»˜å›è°ƒçš„ä»£ç åœ¨å“ªé‡Œ"
information_request: "ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½çš„å®ç°"
```

**çº¦æŸ**ï¼š
- æ— æ³•é™å®šæœç´¢è·¯å¾„åˆ° $PROJECT_ROOT
- ä¼šæœç´¢æ•´ä¸ªä»£ç åº“

---

### 2. Grepï¼ˆç²¾ç¡®æ–‡æœ¬æœç´¢ï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- âœ… å·²çŸ¥ç±»å/å‡½æ•°å/å˜é‡å
- âœ… æŸ¥æ‰¾å…·ä½“å­—ç¬¦ä¸²å‡ºç°çš„ä½ç½®
- âœ… éœ€è¦æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨

**ä¼˜åŠ¿**ï¼š
- ç²¾ç¡®åŒ¹é…
- æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼
- å¯ä»¥é™å®šæœç´¢è·¯å¾„

**å‚æ•°é…ç½®**ï¼š
```javascript
{
  pattern: "class UserController",  // æœç´¢å†…å®¹
  path: "$PROJECT_ROOT",            // é™å®šæœç´¢èŒƒå›´
  output_mode: "content",           // æ˜¾ç¤ºåŒ¹é…è¡Œå†…å®¹
  -n: true,                         // æ˜¾ç¤ºè¡Œå·
  -C: 3                             // æ˜¾ç¤ºä¸Šä¸‹3è¡Œ
}
```

**å¸¸ç”¨æ¨¡å¼**ï¼š

#### æŸ¥æ‰¾ç±»å®šä¹‰
```javascript
pattern: "class LoginComponent"
pattern: "interface UserInfo"
pattern: "function calculateTotal"
```

#### æŸ¥æ‰¾å¯¼å…¥/å¼•ç”¨
```javascript
pattern: "import.*UserService"
pattern: "from.*auth.*import"
```

#### æŸ¥æ‰¾é…ç½®/å¸¸é‡
```javascript
pattern: "API_BASE_URL"
pattern: "const.*THEME"
```

**çº¦æŸ**ï¼š
- âš ï¸ **å¿…é¡»æŒ‡å®š `path: "$PROJECT_ROOT"`**ï¼Œé¿å…æœç´¢å…¶ä»–é¡¹ç›®

---

### 3. Globï¼ˆæ–‡ä»¶åæ¨¡å¼åŒ¹é…ï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- âœ… å·²çŸ¥æ–‡ä»¶åæˆ–æ–‡ä»¶åæ¨¡å¼
- âœ… æŸ¥æ‰¾ç‰¹å®šç±»å‹çš„æ–‡ä»¶
- âœ… å¿«é€Ÿå®šä½æ–‡ä»¶ä½ç½®

**ä¼˜åŠ¿**ï¼š
- é€Ÿåº¦å¿«
- æ”¯æŒé€šé…ç¬¦
- ä¸è¯»å–æ–‡ä»¶å†…å®¹

**å‚æ•°é…ç½®**ï¼š
```javascript
{
  pattern: "**/*.vue",       // æŸ¥æ‰¾æ‰€æœ‰ Vue æ–‡ä»¶
  path: "$PROJECT_ROOT"      // é™å®šæœç´¢èŒƒå›´
}
```

**å¸¸ç”¨æ¨¡å¼**ï¼š

#### æŸ¥æ‰¾ç‰¹å®šæ–‡ä»¶
```javascript
pattern: "**/Login.vue"
pattern: "**/UserController.java"
```

#### æŸ¥æ‰¾ç‰¹å®šç±»å‹æ–‡ä»¶
```javascript
pattern: "**/*.scss"          // æ‰€æœ‰æ ·å¼æ–‡ä»¶
pattern: "**/*Service.ts"     // æ‰€æœ‰æœåŠ¡æ–‡ä»¶
pattern: "**/api/*.js"        // api ç›®å½•ä¸‹çš„ JS æ–‡ä»¶
```

**çº¦æŸ**ï¼š
- âš ï¸ **å¿…é¡»æŒ‡å®š `path: "$PROJECT_ROOT"`**

---

## ç»„åˆä½¿ç”¨ç­–ç•¥

### åœºæ™¯ 1ï¼šå®Œå…¨ä¸çŸ¥é“åœ¨å“ªé‡Œ
**æ­¥éª¤**ï¼š
1. å…ˆç”¨ **codebase-retrieval** è¯­ä¹‰æœç´¢ç†è§£ä»£ç ä½ç½®
2. è·å¾—æ–‡ä»¶è·¯å¾„åï¼Œç”¨ **Read** å·¥å…·è¯»å–å®Œæ•´æ–‡ä»¶

### åœºæ™¯ 2ï¼šçŸ¥é“å…³é”®è¯ä½†ä¸çŸ¥é“æ–‡ä»¶
**æ­¥éª¤**ï¼š
1. ç”¨ **Grep** æœç´¢å…³é”®è¯ï¼ˆå¦‚ `pattern: "login"`ï¼‰
2. ä»ç»“æœä¸­å®šä½å…·ä½“æ–‡ä»¶
3. ç”¨ **Read** å·¥å…·è¯»å–

### åœºæ™¯ 3ï¼šçŸ¥é“æ–‡ä»¶åæ¨¡å¼
**æ­¥éª¤**ï¼š
1. ç”¨ **Glob** å¿«é€Ÿæ‰¾åˆ°æ–‡ä»¶ï¼ˆå¦‚ `pattern: "**/Login*"`ï¼‰
2. ç”¨ **Read** å·¥å…·è¯»å–

### åœºæ™¯ 4ï¼šéœ€è¦æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨
**æ­¥éª¤**ï¼š
1. ç”¨ **Grep** æœç´¢ï¼ˆå¦‚ `pattern: "UserService"`ï¼‰
2. è®¾ç½® `output_mode: "files_with_matches"` æŸ¥çœ‹æ‰€æœ‰åŒ…å«è¯¥å¼•ç”¨çš„æ–‡ä»¶

---

## æœç´¢çº¦æŸï¼ˆå¼ºåˆ¶ï¼‰

### 1. è·¯å¾„é™å®š
**æ‰€æœ‰æœç´¢å¿…é¡»é™å®šåœ¨ `$PROJECT_ROOT` èŒƒå›´å†…**

**æ­£ç¡®ç¤ºä¾‹**ï¼š
```javascript
// Grep
{ pattern: "xxx", path: "project-a/" }

// Glob
{ pattern: "**/*.js", path: "project-a/" }
```

**é”™è¯¯ç¤ºä¾‹**ï¼š
```javascript
// âŒ æœªæŒ‡å®š pathï¼Œä¼šæœç´¢æ‰€æœ‰é¡¹ç›®
{ pattern: "xxx" }
```

### 2. æœç´¢æ·±åº¦
**å‰ç«¯é¡¹ç›®å¸¸è§ç›®å½•**ï¼š
- `src/`
- `components/`
- `views/` æˆ– `pages/`
- `store/`
- `utils/`

**åç«¯é¡¹ç›®å¸¸è§ç›®å½•**ï¼š
- `src/main/java/`ï¼ˆJavaï¼‰
- `controller/`ã€`service/`ã€`dao/`
- `api/`ã€`handlers/`

### 3. æ’é™¤ç›®å½•
**å»ºè®®åœ¨ Grep ä¸­æ’é™¤**ï¼š
- `node_modules/`
- `dist/`ã€`build/`
- `.git/`
- æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šç›®å½•

---

## è¾“å‡ºå¤„ç†

### Grep è¾“å‡ºæ¨¡å¼

**content**ï¼ˆé»˜è®¤ï¼‰ï¼š
- æ˜¾ç¤ºåŒ¹é…çš„è¡ŒåŠå…¶å†…å®¹
- é€‚åˆé˜…è¯»ä»£ç ä¸Šä¸‹æ–‡

**files_with_matches**ï¼š
- ä»…æ˜¾ç¤ºæ–‡ä»¶è·¯å¾„
- é€‚åˆå¿«é€Ÿå®šä½æ–‡ä»¶

**count**ï¼š
- æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„åŒ¹é…æ•°é‡
- é€‚åˆç»Ÿè®¡åˆ†æ

---

## å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæŸ¥æ‰¾ç™»å½•åŠŸèƒ½
```javascript
// ç¬¬ä¸€æ­¥ï¼šè¯­ä¹‰æœç´¢
codebase-retrieval: "ç”¨æˆ·ç™»å½•çš„å®ç°ä»£ç "

// ç¬¬äºŒæ­¥ï¼šç²¾ç¡®æœç´¢ç¡®è®¤
Grep {
  pattern: "function.*login|login.*function",
  path: "project-a/",
  output_mode: "content",
  -n: true
}
```

### ç¤ºä¾‹ 2ï¼šæŸ¥æ‰¾æ‰€æœ‰ API æ¥å£æ–‡ä»¶
```javascript
// ç¬¬ä¸€æ­¥ï¼šæ–‡ä»¶æ¨¡å¼åŒ¹é…
Glob {
  pattern: "**/api/*.ts",
  path: "tai-enjoy-api/"
}

// ç¬¬äºŒæ­¥ï¼šè¯»å–å…·ä½“æ–‡ä»¶
Read { file_path: "tai-enjoy-api/src/api/user.ts" }
```

### ç¤ºä¾‹ 3ï¼šæŸ¥æ‰¾æŸä¸ªç»„ä»¶çš„æ‰€æœ‰å¼•ç”¨
```javascript
Grep {
  pattern: "import.*LoginForm",
  path: "project-a/",
  output_mode: "files_with_matches"
}
```
